app {
  version = "1.0.1"
  name = "forex-proxy"
  
  http {
    host = "0.0.0.0"
    port = 8082
    timeout = 30 seconds
  }

  oneframe {
    uri = "http://localhost:8080"
    token = "10dc303535874aeccc86a8251e6992f5"
    timeout = 5 seconds
    retry {
      max-attempts = 3
      delay = 500 milliseconds
    }
    health-check-interval = 15 seconds
  }

  batch {
    enabled = true
    interval = 5 minutes
  }

  redis {
    host = "localhost"
    port = 6379
    database = 0
    ttl = 5 minutes
  }

  circuit-breaker {
    enabled = true
    max-failures = 5
    reset-timeout = 1 minute
  }

  rate-limiter {
    enabled = true
    max-requests = 100  # max OneFrame API calls per window per IP
    window = 1 minute
    whitelist = ["local-client-1"]  # client IDs or IP addresses exempt from rate limiting (e.g., ["local-client-1", "192.168.1.100"]) (pass in the header: 'X-Client-ID: local-client-1')
  }

  coalescer {
    enabled = true  # prevents duplicate concurrent requests for same currency pair from different requests
  }

  cassandra {
    contact-points = ["localhost"]
    port = 9042
    keyspace = "forex"
    datacenter = "datacenter1"
  }
}

